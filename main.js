var students = ["10004","10005","10007","10009","10010","10011","10013","10014","10015","10016","10017","10018","10019","10020","10021","10023","10025","10026","10027","10028","10031","10032","10033","10034","10035","10036","10037","10038","10042","10043","10045","10047","10051","10053","10054","10055","10056","10057","10066","10067","10068","10069","10071","10072","10073","10075","10076","10077","10078","10079","10080","10084","10085","10086","10090","10092","10095","10100","10101","10128","10141","10148","10151","10156","10165","10166","10169","10170","10173","10174","10179","10186","10187","10188","10190","10191","10199","10203","10236","10240","10326","10349","10360","10373","10388","10411","10412","10424","10427","10429","10436","10444","10445","10446","10447","10456","10457","10463","10473","10477","10495","10504","10511","10513","10514","10515","10516","10523","10532","10563","10567","10569","10570","10573","10577","10591","10592","10596","10598","10599","10601","10602","10604","10605","10606","10608","10609","10612","10613","10614","10615","10618","10620","10624","10625","10626","10627","10628","10630","10631","10632","10633","10637","10639","10643","10644","10645","10646","10647","10648","10649","10650","10651","10653","10654","10655","10656","10657","10659","10660","10661","10662","10663","10672","10677","10681","10682","10686","10688","10691","10693","10694","10695","10696","10697","10698","10701","10702","10703","10704","10708","10709","10710","10713","10714","10715","10716","10721","10722","10723","10724","10725","10726","10727","10728","10730","10735","10737","10738","10739","10741","10742","10743","10744","10745","10747","10748","10749","10751","10752","10754","10755","10756","10762","10763","10772","10775","10786","10790","10798","10811","10814","10816","10819","10820","10821","10822","10830","10835","10837","10849","10850","10853","10854","10856","10857","10858","10859","10862","10866","10871","11009","11018","11021","11022","11023","11024","11030","11034","11035","11036","11037","11038","11039","11045","11047","11048","11049","11050","11052","11054","11056","11057","11058","11059","11060","11063","11064","11065","11073","11075","11076","11079","11081","11082","11085","11088","11201","11343","11344","11345","11346","11348","11350","11353","11355","11356","11359","11362","11363","11367","11368","11369","11374","11377","11378","11379","11380","11381","11385","11386","11387","11388","11390","11391","11392","11395","11396","11398","11399","11403","11405","11406","11407","11408","11409","11411","11413","11416","11418","11419","11420","11422","11423","11424","11427","11431","11432","11433","11435","11436","11446","11447","11449","11450","11459","11472","11475","11484","11485","11490","11498","11505","11506","11508","11509","11510","11511","11512","11514","11516","11518","11519","11549","11553","11555","11559","11562","11563","11564","11566","11567","11568","11569","11570","11571","11572","11573","11576","11577","11578","11710","11714","11802","12140","12146","12149","12172","12174","12177","12178","12179","12180","12183","12184","12185","12187","12188","12189","12190","12191","12192","12193","12194","12195","12197","12201","12202","12203","12280","8337","8356","8377","8378","8442","8448","8459","8517","8537","8543","8546","8572","8574","8579","8581","8591","8598","8748","8818","8841","8843","8849","8903","8930","8971","8977","8992","8997","9005","9006","9011","9015","9017","9023","9024","9040","9041","9044","9070","9078","9081","9084","9093","9094","9097","9099","9100","9109","9119","9125","9153","9162","9175","9181","9184","9185","9189","9193","9196","9197","9198","9200","9204","9205","9206","9207","9208","9209","9221","9227","9228","9229","9230","9231","9235","9237","9248","9272","9289","9308","9324","9330","9348","9350","9355","9359","9360","9361","9363","9364","9365","9366","9367","9370","9372","9389","9391","9393","9394","9395","9396","9397","9398","9399","9400","9402","9403","9405","9407","9408","9409","9410","9411","9412","9413","9415","9416","9417","9420","9430","9433","9434","9436","9437","9438","9440","9441","9443","9445","9447","9448","9451","9457","9460","9473","9475","9478","9480","9481","9483","9484","9485","9486","9487","9488","9492","9493","9495","9496","9498","9500","9511","9512","9513","9514","9515","9517","9518","9519","9520","9522","9523","9525","9527","9531","9532","9535","9536","9538","9539","9540","9543","9546","9547","9558","9559","9560","9561","9563","9564","9565","9566","9568","9570","9571","9573","9574","9575","9583","9591","9607","9608","9609","9611","9612","9615","9626","9628","9629","9632","9633","9650","9657","9661","9673","9676","9677","9687","9688","9689","9698","9706","9716","9720","9742","9754","9767","9782","9787","9791","9792","9794","9795","9796","9797","9799","9802","9809","9813","9814","9824","9831","9833","9834","9835","9861","9862","9866","9893","9894","9900","9906","9907","9909","9911","9915","9927","9930","9932","9933","9937","9938","9940","9941","9944","9946","9948","9949","9951","9952","9953","9954","9955","9956","9957","9958","9959","9963","9965","9966","9971","9972","9973","9975","9977","9978","9979","9980","9981","9982","9984","9985","9986","9989","9990","9991","9992","9996","9997","9998","9999"];

var teachers = ["ABN","ADM","ADR","ARN","BJJ","BKH","BKN","BKR","BOR","BRH","BRJ","BRK","BRM","BSC","BTN","DJK","DMD","DMN","DPP","DRC","DRK","DTS","DTV","EER","ELF","ELZ","ERK","EST","EVM","EVR","GNS","GRH","GRV","GTH","HGS","HKS","HMA","HMD","HPK","HRT","HSA","HSD","HSI","HSM","HUT","HZL","JCB","JNJ","JNT","JNW","KHH","KLK","KLS","KND","KNN","KPM","KRG","KRK","KRV","KST","LBL","LCR","LFN","LMM","LNG","MLL","MRN","MST","OLS","OSC","OST","OZC","PER","PLT","POL","RDN","RSS","SCJ","SCK","SCL","SLH","SLM","SLS","SLT","SMD","SNJ","SPM","SPR","STD","STF","STM","STR","SVY","SWS","TAK","THN","TMN","TRN","UBB","ULB","VLD","VRC","VRG","VSS","WNN","WNT","WTR","ZDN","ZNT","ZWR","ZWS"];

function SetDefault(ID, teacher){
    Cookies.set('number', students[ID])
    Cookies.set('teacher', teacher)
}

function getDefault(){
    if(Cookies.get('teacher')="T"){
        teachers[Cookies.get('ID')]
    }else{
        students[Cookies.get('ID')]
    }
}

function getQueryString(field, url) {
	var href = url ? url : window.location.href;
	var reg = new RegExp( '[?&]' + field + '=([^&#]*)', 'i' );
	var string = reg.exec(href);
	return string ? string[1] : null;
}


function getStudentTable(unparsed) {
    studentID = arraySearch(students, unparsed) + 1
    date = new Date()
    week = "";
    if (date.getWeek() <= 9) {
        week = "0" + date.getWeek()
    } else {
        week = date.getWeek()
    }

    console.log(studentID)

    studentIDD = "";

    if (studentID <= 9) {
        studentIDD = "0000" + studentID
    } else if (studentID <= 99) {
        studentIDD = "000" + studentID
    } else if (studentID <= 999) {
        studentIDD = "00" + studentID
    }

    document.getElementById("iframe").src = "http://www4.olympuscollege.nl/roosters/inforooster/dagrooster/" + week + "/s/s" + studentIDD + ".htm"
    document.getElementById("iframe").removeAttribute("hidden")
    document.getElementById("options").setAttribute("hidden", "hidden")
}

Date.prototype.getWeek = function() {
    var date = new Date(this.getTime());
     date.setHours(0, 0, 0, 0);
    // Thursday in current week decides the year.
    date.setDate(date.getDate() + 3 - (date.getDay() + 6) % 7);
    // January 4 is always in week 1.
    var week1 = new Date(date.getFullYear(), 0, 4);
    // Adjust to Thursday in week 1 and count number of weeks from date to week1.
    return 1 + Math.round(((date.getTime() - week1.getTime()) / 86400000
                          - 3 + (week1.getDay() + 6) % 7) / 7);
}

function arraySearch(arr,val) {
    for (var i=0; i<arr.length; i++)
        if (arr[i] === val)                    
            return i;
    return false;
}